#!name= Enable Apple TV app
#!desc=(BETA) 解锁TV app全功能并优先使用🇺🇸US内容和简体中文(zh-Hans)

[URL Rewrite]
# TV app Watch Now tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/canvases\/Roots)(\/watchNow)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5$6locale=zh-Hans$8sf=143441$10 header
# TV app Movies tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/canvases\/Roots)(\/movies)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5$6locale=zh-Hans$8sf=143441$10 header
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/movies)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5locale=zh-Hans$7sf=143441$9 header
# TV app TV Shows tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/canvases\/Roots)(\/tv)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5$6locale=zh-Hans$8sf=143441$10 header
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/shows)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5locale=zh-Hans$7sf=143441$9 header
# TV app Sports tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/canvases\/Roots)(\/sports)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5$6locale=zh-Hans$8sf=143441$10 header
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/sporting-events)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5locale=zh-Hans$7sf=143441$9 header
# TV app Kids tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/canvases\/Roots)(\/kids)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5$6locale=zh-Hans$8sf=143441$10 header
# TV app Search tab
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/search)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5locale=zh-Hans$7sf=143441$9 header
# TV channels
(^https?:\/\/uts-api\.itunes\.apple\.com)(\/uts\/)(v1|v2|v3)(\/brands)(.*)(locale=[\w-_]{2,})(.*)(sf=[\d]{4,})(.*) $1$2$3$4$5locale=zh-Hans$7sf=143441$9 header

[Script]
# Enable All TV app Tabs
http-response ^https?:\/\/uts-api\.itunes\.apple\.com\/uts\/(v1|v2|v3)\/configurations\?.* script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js, requires-body=true, timeout=10, tag=Apple_TV

[MITM]
hostname = %APPEND% uts-api.itunes.apple.com
