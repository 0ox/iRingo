#!name=ï£¿ Unlock OverSea/International Apple Map
#!desc=Unlock OverSea/International Apple Map.

[Rule]
# > com.apple.geod
PROCESS-NAME,com.apple.geod,ðŸŒ‘Proxy
PROCESS-NAME,/System/Library/PrivateFrameworks/GeoServices.framework/Versions/A/XPCServices/com.apple.geod.xpc/Contents/MacOS/com.apple.geod,ðŸŒ‘Proxy
USER-AGENT,geod*,ðŸŒ‘Proxy
USER-AGENT,com.apple.geod*,ðŸŒ‘Proxy
# > Apple Map
DOMAIN,gsp-ssl.ls.apple.com,ðŸŒ‘Proxy
DOMAIN,gsp64-ssl.ls.apple.com,ðŸŒ‘Proxy
# > Apple News
PROCESS-NAME,News,ðŸŒ‘Proxy
PROCESS-NAME,/System/Applications/News.app/Contents/MacOS/News,ðŸŒ‘Proxy
PROCESS-NAME,NewsTag,ðŸŒ‘Proxy
PROCESS-NAME,/System/Applications/News.app/Contents/PlugIns/NewsTag.appex/Contents/MacOS/NewsTag,ðŸŒ‘Proxy
PROCESS-NAME,NewsToday2,ðŸŒ‘Proxy
PROCESS-NAME,/System/Applications/News.app/Contents/PlugIns/NewsToday2.appex/Contents/MacOS/NewsToday2,ðŸŒ‘Proxy
PROCESS-NAME,NewsTodayIntents,ðŸŒ‘Proxy
PROCESS-NAME,/System/Applications/News.app/Contents/PlugIns/NewsTodayIntents.appex/Contents/MacOS/NewsTodayIntents,ðŸŒ‘Proxy
USER-AGENT,AppleNews*,ðŸŒ‘Proxy
DOMAIN,news-assets.apple.com,ðŸŒ‘Proxy
DOMAIN,news-client.apple.com,ðŸŒ‘Proxy
DOMAIN,news-edge.apple.com,ðŸŒ‘Proxy
DOMAIN,news-events.apple.com,ðŸŒ‘Proxy
DOMAIN,apple.comscoreresearch.com,ðŸŒ‘Proxy


[URL Rewrite]
# Redirect GeoServices
(^https?:\/\/gspe\d*-ssl\.ls\.apple\.)(com|cn)(\/.*)(country_code=[A-Z]{2})(.*) $1$2$3country_code=US$5 header

[MITM]
hostname = %APPEND% gspe35-ssl.ls.apple.com